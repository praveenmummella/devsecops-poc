# ========================
# TEST CONFIGURATION
# ========================

# Security & Auto-config
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
spring.main.allow-bean-definition-overriding=true

# Server Configuration
server.port=0  # Random port
server.http2.enabled=false  # Mitigates CVE-2024-38286

# Database
spring.jpa.hibernate.ddl-auto=none
spring.datasource.initialization-mode=never

# ========================
# VULNERABILITY MITIGATIONS
# ========================

# Disable Tomcat HTTP/2 (CVE-2024-38286)
server.tomcat.http2.enabled=false

# Spring MVC Protection (CVE-2024-38816)
spring.mvc.pathmatch.matching-strategy=ant_path_matcher

# ========================
# TEST-SPECIFIC OVERRIDES
# ========================
spring.cloud.discovery.enabled=false
management.endpoints.web.exposure.include=health,info
